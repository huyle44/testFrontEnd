/* --- Lớp bao bọc chính cho cửa sổ chat --- */
.chat-window-scroll {
  /* (SỬA) Đây là các thuộc tính quan trọng nhất */
  flex: 1; /* Cho phép nó lấp đầy không gian còn lại */
  overflow-y: auto; /* Cho phép nó cuộn */
  min-height: 0; /* Ngăn nó tràn ra khỏi container */

  padding: 24px;
}

/* --- Mỗi hàng tin nhắn --- */
.chat-message-row {
  display: flex;
  margin-bottom: 24px;
}
.chat-message-row[data-sender='user'] {
  justify-content: flex-end;
}
.chat-message-row[data-sender='ai'] {
  justify-content: flex-start;
}

/* --- Container chứa bong bóng và thời gian --- */
.chat-message-container {
  max-width: 60%;
}

/* --- Tiêu đề AI (Avatar và Tên) --- */
.chat-ai-header {
  margin-bottom: 8px;
}

.chat-ai-avatar {
  transition: background-color 0.3s, color 0.3s;
}
.chat-ai-avatar[data-theme='light'] {
  background-color: #f0f0f0;
  color: #666;
}
.chat-ai-avatar[data-theme='dark'] {
  background-color: #303030;
  color: rgba(255, 255, 255, 0.65);
}

.chat-ai-name {
  font-size: 14px;
  font-weight: 500;
  transition: color 0.3s;
}
.chat-ai-name[data-theme='light'] {
  color: #212529;
}
.chat-ai-name[data-theme='dark'] {
  color: white;
}

/* --- Bong bóng tin nhắn hình ảnh --- */
.chat-image-bubble {
  max-width: 100%;
  border-radius: 16px;
}
.chat-image-bubble[data-sender='user'] {
  border-top-right-radius: 4px;
}
.chat-image-bubble[data-sender='ai'] {
  border-top-left-radius: 4px;
}

/* --- Bong bóng tin nhắn văn bản --- */
.chat-text-bubble {
  padding: 12px 16px;
  border-radius: 16px;
  font-size: 16px;
  white-space: pre-wrap;
}
.chat-text-bubble[data-sender='user'] {
  border-top-right-radius: 4px;
}
.chat-text-bubble[data-sender='ai'] {
  border-top-left-radius: 4px;
}

/* --- Dấu thời gian (timestamp) --- */
.chat-message-time {
  font-size: 12px;
  opacity: 0.65;
  margin-top: 4px;
  transition: color 0.3s;
}
.chat-message-time[data-theme='light'] {
  color: rgba(0, 0, 0, 0.65);
}
.chat-message-time[data-theme='dark'] {
  color: rgba(255, 255, 255, 0.65);
}
.chat-message-time[data-sender='user'] {
  text-align: right;
}
.chat-message-time[data-sender='ai'] {
  text-align: left;
}